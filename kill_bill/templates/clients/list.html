{% extends "base.html" %}
{% block content %}
<div class="level">
    <div class="level-left">
        <h1 class="title">Clients</h1>
    </div>
    <div class="level-right">
        <a href="{% url 'client_create' %}" class="button is-primary">New Client</a>
    </div>
</div>
<form method="get" class="box">
    <div class="field has-addons">
        <div class="control is-expanded">
            <input class="input" type="text" name="search" value="{{ search }}" placeholder="Search by company name">
        </div>
        <div class="control">
            <button class="button is-info" type="submit">Search</button>
        </div>
    </div>
</form>
<table class="table is-fullwidth is-striped">
    <thead>
    <tr>
        <th>Company</th>
        <th>Contact</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Status</th>
    </tr>
    </thead>
    <tbody>
    {% for client in clients %}
        <tr>
            <td><a href="{% url 'client_detail' client.pk %}">{{ client.company_name }}</a></td>
            <td>{{ client.contact_person }}</td>
            <td>{{ client.email }}</td>
            <td>{{ client.phone }}</td>
            <td class="tag is-light">{{ client.get_status_display }}</td>
        </tr>
    {% empty %}
        <tr><td colspan="5">No clients found.</td></tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
